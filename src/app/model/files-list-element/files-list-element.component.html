<div class="mb-3 text-muted small"
     [innerHTML]="'FileListHint' | translate:locale.language"></div>
<div class="my-3 text-right">
    <span class="mr-1" *ngIf="lastSaved">
        {{"LastSavedAt" | translate:locale.language}}: {{lastSaved | date:'mediumTime':undefined:locale.language}}
    </span>
    <button class="btn btn-success" (click)="saveFileList()">
        {{"Save" | translate:locale.language}}
    </button>
</div>
<table class="table table-striped">
    <thead>
    <tr>
        <th class="col-4">{{"Filename" | translate:locale.language}}</th>
        <th class="col-2">{{"FileType" | translate:locale.language}}</th>
        <th class="col-2">{{"Position" | translate:locale.language}}</th>
        <th class="col-2" [innerHTML]="'CreatedAt_UpdatedAt' | translate:locale.language"></th>
        <th class="col-2">{{"Actions" | translate:locale.language}}</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let file of files | objectArraySort:['type','position','filename']">
        <td class="align-middle" style="word-break:break-all;">
            {{file.filename}}
        </td>
        <td class="align-middle">
            <label for="fileType" class="sr-only">{{"FileType" | translate:locale.language}}</label>
            <select id="fileType" class="form-control"
                    [(ngModel)]="file.type"
                    [value]="file.type">
                <option *ngFor="let fileType of ['model' ,'image', 'diagram' , 'document']" [value]="fileType">
                    {{"filetype." + fileType | translate:locale.language}}
                </option>
            </select>
        </td>
        <td class="align-middle">
            <label for="filePosition" class="sr-only">{{"FilePosition" | translate:locale.language}}</label>
            <input id="filePosition" type="number" min="1" max="999999" step="1"
                   class="form-control"
                   [(ngModel)]="file.position"
                   [value]="file.position">
        </td>
        <td class="align-middle small">
            <div>
                {{file.created_at | date:'medium':undefined:locale.language}}
            </div>
            <div>
                {{file.updated_at | date:'medium':undefined:locale.language}}
            </div>
        </td>
        <td class="align-middle">
            <div class="btn-group btn-group-sm">
                <button type="button" class="btn btn-primary disabled">
                    <span class="fas fa-download"></span>
                </button>
                <button type="button" class="btn btn-danger disabled">
                    <span class="fas fa-trash-alt"></span>
                </button>
            </div>
        </td>
    </tr>
    </tbody>
</table>
<div class="mt-3 text-right">
    <span class="mr-1" *ngIf="lastSaved">
        {{"LastSavedAt" | translate:locale.language}}: {{lastSaved | date:'mediumTime':undefined:locale.language}}
    </span>
    <button class="btn btn-success" (click)="saveFileList()">
        {{"Save" | translate:locale.language}}
    </button>
</div>
